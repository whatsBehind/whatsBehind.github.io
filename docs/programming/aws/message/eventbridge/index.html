<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="What is AWS EventBridge? # AWS EventBridge is a serverless event bus service that is used to build event driven applications. EventBridge allows you to ingest, filter, transform and deliver events from sources to targets.
Reference # AWS EventBridge Workshop EventBridge Global Endpoint Message Services for Serverless Applications Architecture # Components and Concepts # Data Sources # Data sources or event publishers are applications that publish data to the EventBridge.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="EventBridge" />
<meta property="og:description" content="What is AWS EventBridge? # AWS EventBridge is a serverless event bus service that is used to build event driven applications. EventBridge allows you to ingest, filter, transform and deliver events from sources to targets.
Reference # AWS EventBridge Workshop EventBridge Global Endpoint Message Services for Serverless Applications Architecture # Components and Concepts # Data Sources # Data sources or event publishers are applications that publish data to the EventBridge." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://whatsBehind.github.io/docs/programming/aws/message/eventbridge/" /><meta property="article:section" content="docs" />



<title>EventBridge | What&#39;s Behind</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" >
<link rel="stylesheet" href="/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css" integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz&#43;OQteg=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.9a16d7a1012fd1eb28d22804eaa37b3cbb988751e3a09759933ca32a15da9c12.js" integrity="sha256-mhbXoQEv0eso0igE6qN7PLuYh1HjoJdZkzyjKhXanBI=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>What&#39;s Behind</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <span>Programming</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7ce6fe0c65f837fcf676f1e6ecbf9947" class="toggle"  />
    <label for="section-7ce6fe0c65f837fcf676f1e6ecbf9947" class="flex justify-between">
      <a role="button" class="">Project</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/project/online-chat/" class="">Online Chat</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/project/node-js-auth/" class="">Node Js Auth</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7844d228e6c88ae97cf5828b0d009769" class="toggle"  />
    <label for="section-7844d228e6c88ae97cf5828b0d009769" class="flex justify-between">
      <a role="button" class="">Backend</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-85e6d0a84cbb2566773c803dc893e0af" class="toggle"  />
    <label for="section-85e6d0a84cbb2566773c803dc893e0af" class="flex justify-between">
      <a role="button" class="">Java</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4d132fa86c191d313485f304ca9a1229" class="toggle"  />
    <label for="section-4d132fa86c191d313485f304ca9a1229" class="flex justify-between">
      <a role="button" class="">Net</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/net/tcp-socket/" class="">Tcp Socket</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f8771c290018cde58e0ed5c89ae77e0d" class="toggle"  />
    <label for="section-f8771c290018cde58e0ed5c89ae77e0d" class="flex justify-between">
      <a role="button" class="">Io</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/io/decorator-pattern-in-java-io/" class="">Decorator Pattern in Java IO</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/io/object-input-and-output-stream/" class="">ObjectInputStream and ObjectOutputStream</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/io/stream-reader-bridge-of-byte-and-char/" class="">Stream Reader: Bridge of Byte and Char</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/io/io-stream/" class="">Java IO Stream</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/io/file/" class="">Java File</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-51b21b1aa4706431f75da30c83254b65" class="toggle"  />
    <label for="section-51b21b1aa4706431f75da30c83254b65" class="flex justify-between">
      <a role="button" class="">Thread</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/thread/start-thread/" class="">Start Thread</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/thread/common-methods/" class="">Common Methods</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/thread/thread-lifecycle/" class="">Thread Lifecycle</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/thread/synchornization/" class="">Synchronization</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/thread/thread-safety/" class="">Thread Safety</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/reflection/" class="">Reflection</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-945932e727978560611817848680d393" class="toggle"  />
    <label for="section-945932e727978560611817848680d393" class="flex justify-between">
      <a role="button" class="">Netty</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/netty/event-loop-group/" class="">EventLoop &amp; EventLoopGroup</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/netty/channel/" class="">Channel &amp; ChannelFuture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/netty/pipeline-handler/" class="">Pipeline &amp; Handler</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f0c638519ab658fe62f69bdee816bc0f" class="toggle"  />
    <label for="section-f0c638519ab658fe62f69bdee816bc0f" class="flex justify-between">
      <a role="button" class="">Nio</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/nio/byte-buffer/" class="">Byte Buffer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/nio/blocking-mode/" class="">Blocking Mode</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/nio/unblocking-mode/" class="">Unblocking Mode</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/nio/selector/" class="">Selector</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/nio/selector-read/" class="">Selector Read</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/nio/io-model-summary/" class="">I/O  Model Summary</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/backend/java/nio/multiple-threads/" class="">Multiple Threads</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-3fb923816a079b91d0045c2bbe184452" class="toggle"  />
    <label for="section-3fb923816a079b91d0045c2bbe184452" class="flex justify-between">
      <a role="button" class="">Os</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-eef785d90f032562151b69894191310f" class="toggle"  />
    <label for="section-eef785d90f032562151b69894191310f" class="flex justify-between">
      <a role="button" class="">Linux</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/os/linux/linux-manual/" class="">Linux Manual</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-baafd18a53132bc7da781d43371b88b2" class="toggle"  />
    <label for="section-baafd18a53132bc7da781d43371b88b2" class="flex justify-between">
      <a role="button" class="">Web</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-eee032ba51521b5a76ca688aa982a5cd" class="toggle"  />
    <label for="section-eee032ba51521b5a76ca688aa982a5cd" class="flex justify-between">
      <a role="button" class="">Glossary</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/web/glossary/cors/" class="">CORS</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c0de0223513b5941f61c65ed294def20" class="toggle"  />
    <label for="section-c0de0223513b5941f61c65ed294def20" class="flex justify-between">
      <a role="button" class="">Web API</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/web/web-api/web-storage-api/" class="">Web Storage Api</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0975d481e131cd3566df9e7779add732" class="toggle"  />
    <label for="section-0975d481e131cd3566df9e7779add732" class="flex justify-between">
      <a role="button" class="">HTTP</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/web/http/cookie/" class="">Cookie</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-811d37783cbe9703bc6b3709e834ba31" class="toggle"  />
    <label for="section-811d37783cbe9703bc6b3709e834ba31" class="flex justify-between">
      <a role="button" class="">Security</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/web/security/asymmetric-encryption/" class="">Asymmetric Encryption</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/web/security/tls-handshake/" class="">TLS Handshake</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/web/security/session-vs-token/" class="">Session vs Token</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c91ba5e94a01028927e7fe8e471dfed6" class="toggle"  />
    <label for="section-c91ba5e94a01028927e7fe8e471dfed6" class="flex justify-between">
      <a role="button" class="">Tools</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-61b4842f6a6edc0699378637391b21b9" class="toggle"  />
    <label for="section-61b4842f6a6edc0699378637391b21b9" class="flex justify-between">
      <a role="button" class="">Hugo</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/tools/hugo/set-up-hugo-in-git-hub-pages/" class="">Set Up Hugo in Git Hub Pages</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e97a896d4bd387a2bf56a2d56170f469" class="toggle" checked />
    <label for="section-e97a896d4bd387a2bf56a2d56170f469" class="flex justify-between">
      <a role="button" class="">Aws</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/aws/cloudformation/" class="">CloudFormation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a857ab78df3a4e73796a54f21637c847" class="toggle" checked />
    <label for="section-a857ab78df3a4e73796a54f21637c847" class="flex justify-between">
      <a role="button" class="">Message</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/aws/message/sns/" class="">SNS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/aws/message/sqs/" class="">SQS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/aws/message/eventbridge/" class="active">EventBridge</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a31ff4733cd80cf4d5fd6176bfd38157" class="toggle"  />
    <label for="section-a31ff4733cd80cf4d5fd6176bfd38157" class="flex justify-between">
      <a role="button" class="">Security</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/aws/security/kms/" class="">KMS</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2d83032c16586068a0402c6767f2442f" class="toggle"  />
    <label for="section-2d83032c16586068a0402c6767f2442f" class="flex justify-between">
      <a role="button" class="">Network</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/network/dns/" class="">DNS</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/network/dns-hands-on/" class="">DNS Hands On</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bb97be98433588b9dc24d06db2bc9121" class="toggle"  />
    <label for="section-bb97be98433588b9dc24d06db2bc9121" class="flex justify-between">
      <a role="button" class="">System Design</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/system-design/load-balancer/" class="">Load Balancer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0eacaeb7d45cd9d6d611e7abea975a63" class="toggle"  />
    <label for="section-0eacaeb7d45cd9d6d611e7abea975a63" class="flex justify-between">
      <a role="button" class="">Monitoring</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/programming/system-design/monitoring/metric-log/" class="">Metric &amp; Log</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>EventBridge</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#what-is-aws-eventbridge">What is AWS EventBridge?</a></li>
        <li><a href="#reference">Reference</a></li>
        <li><a href="#architecture">Architecture</a></li>
        <li><a href="#components-and-concepts">Components and Concepts</a>
          <ul>
            <li><a href="#data-sources">Data Sources</a></li>
            <li><a href="#event-buses">Event Buses</a></li>
            <li><a href="#rules">Rules</a></li>
          </ul>
        </li>
        <li><a href="#important-features">Important Features</a>
          <ul>
            <li><a href="#event-pattern">Event Pattern</a></li>
            <li><a href="#input-transformer">Input Transformer</a></li>
            <li><a href="#archive-and-replay">Archive and Replay</a></li>
            <li><a href="#schema-registry">Schema Registry</a></li>
            <li><a href="#global-endpoint">Global Endpoint</a></li>
          </ul>
        </li>
        <li><a href="#sns-vs-eventbridge">SNS v.s. EventBridge</a>
          <ul>
            <li><a href="#commons">Commons</a></li>
            <li><a href="#differences">Differences</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h2 id="what-is-aws-eventbridge">
  What is AWS EventBridge?
  <a class="anchor" href="#what-is-aws-eventbridge">#</a>
</h2>
<p>AWS EventBridge is a serverless event bus service that is used to build event driven applications. EventBridge allows you to ingest, filter, transform and deliver events from sources to targets.</p>
<h2 id="reference">
  Reference
  <a class="anchor" href="#reference">#</a>
</h2>
<ul>
<li><a href="https://catalog.us-east-1.prod.workshops.aws/workshops/63320e83-6abc-493d-83d8-f822584fb3cb/en-US/eventbridge">AWS EventBridge Workshop</a></li>
<li><a href="https://aws.amazon.com/blogs/compute/introducing-global-endpoints-for-amazon-eventbridge/">EventBridge Global Endpoint</a></li>
<li><a href="https://aws.amazon.com/blogs/compute/choosing-between-messaging-services-for-serverless-applications/">Message Services for Serverless Applications</a></li>
</ul>
<h2 id="architecture">
  Architecture
  <a class="anchor" href="#architecture">#</a>
</h2>
<p><img src="/docs/programming/aws/message/event-bridge/EventBridgeDiagram.png" alt="event-bridge" /></p>
<h2 id="components-and-concepts">
  Components and Concepts
  <a class="anchor" href="#components-and-concepts">#</a>
</h2>
<h3 id="data-sources">
  Data Sources
  <a class="anchor" href="#data-sources">#</a>
</h3>
<p>Data sources or event publishers are applications that publish data to the EventBridge. They could be your own applications, Software-as-a-Service (SaaS) applications and AWS services. Data sources call <code>PutEvent</code> API to publish events to an event bus in the EventBridge.</p>
<ul>
<li>AWS services: EventBridge catches all AWS service events, but to utilize them, you need to create a rule to route event of interests to target</li>
</ul>
<h3 id="event-buses">
  Event Buses
  <a class="anchor" href="#event-buses">#</a>
</h3>
<p>Event buses receive events. They are data channels in EventBridge, and you can think them as topics in SNS. When applications publish events to EventBridge, it must specify the event bus name.</p>
<h3 id="rules">
  Rules
  <a class="anchor" href="#rules">#</a>
</h3>
<p>A Rule matches incoming events and routes them to targets for processing. A single rule can route matching events to multiple targets. Rules should be attached to an event bus.</p>
<h4 id="example">
  Example
  <a class="anchor" href="#example">#</a>
</h4>
<ul>
<li>
<p>EC2 Event</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-JSON" data-lang="JSON"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;12345678-1234-1234-1234-123456789012&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;detail-type&#34;</span>: <span style="color:#e6db74">&#34;EC2 Instance State-change Notification&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;source&#34;</span>: <span style="color:#e6db74">&#34;aws.ec2&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;account&#34;</span>: <span style="color:#e6db74">&#34;123456789012&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;time&#34;</span>: <span style="color:#e6db74">&#34;2024-02-10T21:22:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;region&#34;</span>: <span style="color:#e6db74">&#34;us-west-2&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;resources&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;arn:aws:ec2:us-west-2:123456789012:instance/i-1234567890abcdef0&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;detail&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;instance-id&#34;</span>: <span style="color:#e6db74">&#34;i-1234567890abcdef0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;state&#34;</span>: <span style="color:#e6db74">&#34;running&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>Rule to SQS Queue</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-YAML" data-lang="YAML"><span style="display:flex;"><span><span style="color:#f92672">EC2StateChangeRule</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">AWS::Events::Rule</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Properties</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Description</span>: <span style="color:#e6db74">&#34;EventBridge rule to route EC2 state change events to SQS with transformation&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">EventBusName</span>: <span style="color:#ae81ff">default</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">EventPattern</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">source</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#e6db74">&#34;aws.ec2&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">detail-type</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#e6db74">&#34;EC2 Instance State-change Notification&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">detail</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">state</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#e6db74">&#34;pending&#34;</span>
</span></span><span style="display:flex;"><span>          - <span style="color:#e6db74">&#34;running&#34;</span>
</span></span><span style="display:flex;"><span>          - <span style="color:#e6db74">&#34;stopped&#34;</span>
</span></span><span style="display:flex;"><span>          - <span style="color:#e6db74">&#34;terminated&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Targets</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">Id</span>: <span style="color:#e6db74">&#34;TargetSQS&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Arn</span>: !<span style="color:#ae81ff">GetAtt MySQSQueue.Arn</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">InputTransformer</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">InputPathsMap</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">instanceId</span>: <span style="color:#e6db74">&#34;$.detail.instance-id&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">state</span>: <span style="color:#e6db74">&#34;$.detail.state&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">InputTemplate</span>: <span style="color:#e6db74">&#39;{&#34;instanceId&#34;: &lt;instanceId&gt;, &#34;state&#34;: &lt;state&gt;}&#39;</span>
</span></span></code></pre></div></li>
</ul>
<h2 id="important-features">
  Important Features
  <a class="anchor" href="#important-features">#</a>
</h2>
<h3 id="event-pattern">
  Event Pattern
  <a class="anchor" href="#event-pattern">#</a>
</h3>
<p>Only events matching the event pattern will be delivered to targets</p>
<h3 id="input-transformer">
  Input Transformer
  <a class="anchor" href="#input-transformer">#</a>
</h3>
<p>Input transformer is a feature that can transform source event to the format you desire and pass the transformed event to target</p>
<h3 id="archive-and-replay">
  Archive and Replay
  <a class="anchor" href="#archive-and-replay">#</a>
</h3>
<p><img src="/docs/programming/aws/message/event-bridge/event-archive.png" alt="event-archive" /></p>
<p>Archive events. Replay allows you to resend events from archive to event bus</p>
<ul>
<li>
<p>To create an archive for an event bus, here are some key attributes you need to specify</p>
<ul>
<li>Event Source: Event bus that you want to archive events</li>
<li>Retention Period: Time that events will be retained in archive</li>
<li>Event Pattern: Only events matching the event pattern will be archived</li>
</ul>
</li>
</ul>
<h3 id="schema-registry">
  Schema Registry
  <a class="anchor" href="#schema-registry">#</a>
</h3>
<p>EventBridge can infer schemas based on events routed through an event bus by using schema discovery. This can be used to generate code bindings directly to your IDE for type-safe languages like Python, Java, and TypeScript. This can help accelerate development by automating the generation of classes and code directly from events.</p>
<h3 id="global-endpoint">
  Global Endpoint
  <a class="anchor" href="#global-endpoint">#</a>
</h3>
<p><img src="/docs/programming/aws/message/event-bridge/global-endpoint.png" alt="global-endpoint" /></p>
<p>Global Endpoint allows you to publish events to event bus in secondary region when the event bus in primary region is down. It improves availability and reliability of your event-driven applications.</p>
<h4 id="services-involved">
  Services Involved
  <a class="anchor" href="#services-involved">#</a>
</h4>
<ul>
<li>Route53
<ul>
<li>Health check event bus in primary region and emit health metrics to CloudWatch</li>
<li>Route <code>PutEvent</code> requests to event bus in primary or secondary region</li>
</ul>
</li>
<li>CloudWatch Alarm
<ul>
<li>Once health check alarm is over threshold, the alarm notifies Route53 that primary event bus is down</li>
</ul>
</li>
<li>Event buses
<ul>
<li>When primary event bus is healthy, event is routed to primary event bus and replicated to secondary event bus and vise verse when primary event bus is down</li>
</ul>
</li>
</ul>
<h4 id="how-does-it-work">
  How does it work
  <a class="anchor" href="#how-does-it-work">#</a>
</h4>
<ul>
<li>Publisher calls <code>PutEvent</code> to send events to EventBridge global endpoint hosted in Route53</li>
<li>The Event is routed to primary event bus and optionally replicated to secondary event bus in real time depending on your setup</li>
<li>Once health check metrics are over threshold in CloudWatch alarm, route53 is notified, and it starts failover which routes all events to secondary event bus until the alarm is inactive. You have multiple options when events are routed to secondary event bus
<ul>
<li>Implement same process solution to process the event</li>
<li>Archive all events routed to secondary event bus and replay them to primary event bus once it is healthy again</li>
</ul>
</li>
</ul>
<h4 id="loss-of-global-endpoint">
  Loss of Global Endpoint
  <a class="anchor" href="#loss-of-global-endpoint">#</a>
</h4>
<ul>
<li>More costs</li>
<li>Event duplication
All fields are same for original and replicated events except event id. Consumers should be designed with idempotency (de-duplication).</li>
</ul>
<h2 id="sns-vs-eventbridge">
  SNS v.s. EventBridge
  <a class="anchor" href="#sns-vs-eventbridge">#</a>
</h2>
<h3 id="commons">
  Commons
  <a class="anchor" href="#commons">#</a>
</h3>
<ul>
<li>They are important components in event driver application to decouple data sources and data consumers</li>
<li>Push data to consumers</li>
<li>Unlike SQS queues, they don&rsquo;t retain data</li>
<li>They can have multiple data sources and consumers</li>
<li>Support retry and DLQ</li>
<li>Similar components
<ul>
<li>SNS Topic - Event Bus</li>
<li>Subscription with filter policy - Rule</li>
</ul>
</li>
</ul>
<h3 id="differences">
  Differences
  <a class="anchor" href="#differences">#</a>
</h3>
<ul>
<li>EventBridge is integrated with SaaS which allows them to put events directly to event buses</li>
<li>EventBridge allows schema registry</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#what-is-aws-eventbridge">What is AWS EventBridge?</a></li>
        <li><a href="#reference">Reference</a></li>
        <li><a href="#architecture">Architecture</a></li>
        <li><a href="#components-and-concepts">Components and Concepts</a>
          <ul>
            <li><a href="#data-sources">Data Sources</a></li>
            <li><a href="#event-buses">Event Buses</a></li>
            <li><a href="#rules">Rules</a></li>
          </ul>
        </li>
        <li><a href="#important-features">Important Features</a>
          <ul>
            <li><a href="#event-pattern">Event Pattern</a></li>
            <li><a href="#input-transformer">Input Transformer</a></li>
            <li><a href="#archive-and-replay">Archive and Replay</a></li>
            <li><a href="#schema-registry">Schema Registry</a></li>
            <li><a href="#global-endpoint">Global Endpoint</a></li>
          </ul>
        </li>
        <li><a href="#sns-vs-eventbridge">SNS v.s. EventBridge</a>
          <ul>
            <li><a href="#commons">Commons</a></li>
            <li><a href="#differences">Differences</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












